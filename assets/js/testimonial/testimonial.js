!function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=39)}({"0kKG":function(e,t){$(document).ready((function(){"use strict";var e="#testimonialTbl";$(e).DataTable({scrollX:!1,deferRender:!0,scroller:!0,processing:!0,serverSide:!0,order:[[1,"asc"]],ajax:{url:testimonialUrl},columnDefs:[{targets:[0],width:"8%",orderable:!1,className:"text-center"},{targets:[2],width:"8%",orderable:!1,className:"text-center"},{targets:[3],orderable:!1,className:"text-center",width:"8%"}],columns:[{data:function(e){return'<img src="'+e.customer_image_url+'" class="rounded-circle thumbnail-rounded"</img>'},name:"customer_name"},{data:function(e){var t=document.createElement("textarea");return t.innerHTML=e.customer_name,'<a href="#" class="show-btn" data-id="'+e.id+'">'+t.value+"</a>"},name:"customer_name"},{data:function(e){return isEmpty(e.customer_image_url)?"N/A":'<a  href="download-image/'+e.id+'">Download</a>'},name:"customer_name"},{data:function(e){var t=[{id:e.id}];return prepareTemplateRender("#testimonialActionTemplate",t)},name:"id"}]}),$(document).on("submit","#addNewForm",(function(t){if(t.preventDefault(),!checkSummerNoteEmpty("#description","Description field is required.",1))return!0;processingBtn("#addNewForm","#btnSave","loading"),$.ajax({url:testimonialSaveUrl,type:"POST",data:new FormData(this),dataType:"JSON",processData:!1,contentType:!1,success:function(t){t.success&&(displaySuccessMessage(t.message),$("#addModal").modal("hide"),$(e).DataTable().ajax.reload(null,!1))},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#addNewForm","#btnSave")}})})),$(document).on("click",".edit-btn",(function(e){var t=$(e.currentTarget).data("id");renderData(t)})),window.renderData=function(e){$.ajax({url:testimonialUrl+e+"/edit",type:"GET",success:function(e){if(e.success){var t=document.createElement("textarea");t.innerHTML=e.data.customer_name,$("#testimonialId").val(e.data.id),$("#editCustomerName").val(t.value),isEmpty(e.data.customer_image_url)?$("#editPreviewImage").attr("src",defaultDocumentImageUrl):$("#editPreviewImage").attr("src",e.data.customer_image_url),$("#editDescription").summernote("code",e.data.description),$("#editModal").appendTo("body").modal("show")}},error:function(e){displayErrorMessage(e.responseJSON.message)}})},$(document).on("submit","#editForm",(function(t){if(t.preventDefault(),!checkSummerNoteEmpty("#editDescription","Description field is required.",1))return!0;processingBtn("#editForm","#btnEditSave","loading");var a=$("#testimonialId").val();$.ajax({url:testimonialUrl+a+"/update",type:"POST",data:new FormData($(this)[0]),dataType:"JSON",processData:!1,contentType:!1,success:function(t){t.success&&(displaySuccessMessage(t.message),$("#editModal").modal("hide"),$(e).DataTable().ajax.reload(null,!1))},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#editForm","#btnEditSave")}})})),$(document).on("click",".show-btn",(function(e){var t=$(e.currentTarget).data("id");$.ajax({url:testimonialUrl+t,type:"GET",success:function(e){if(console.log(e.data),e.success){$("#showCustomerName").html(""),$("#showDescription").html(""),$("#documentUrl").html(""),$("#showCustomerName").append(e.data.customer_name),isEmpty(e.data.customer_image_url)?($("#documentUrl").hide(),$("#noDocument").show()):($("#noDocument").hide(),$("#documentUrl").show(),$("#documentUrl").attr("src",e.data.customer_image_url));var t=document.createElement("textarea");t.innerHTML=isEmpty(e.data.description)?"N/A":e.data.description,$("#showDescription").append(t.value),$("#showModal").appendTo("body").modal("show")}},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),$(document).on("click",".addTestimonialModal",(function(){$("#addModal").appendTo("body").modal("show")})),$(document).on("click",".delete-btn",(function(t){var a=$(t.currentTarget).data("id");deleteItem(testimonialUrl+a,e,"Testimonial")})),$("#addModal").on("hidden.bs.modal",(function(){resetModalForm("#addNewForm","#validationErrorsBox"),$("#description").summernote("code",""),$("#previewImage").attr("src",defaultDocumentImageUrl)})),$("#editModal").on("hidden.bs.modal",(function(){$("#editForm")[0].reset()})),$("#description, #editDescription").summernote({minHeight:200,height:200,toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough"]],["para",["paragraph"]]]}),$(document).on("change","#customerImage",(function(){isValidFile($(this),"#validationErrorsBox")&&displayPhoto(this,"#previewImage")})),$(document).on("change","#editCustomerImage",(function(){isValidFile($(this),"#editValidationErrorsBox")&&displayPhoto(this,"#editPreviewImage")}))}))},39:function(e,t,a){e.exports=a("0kKG")}});